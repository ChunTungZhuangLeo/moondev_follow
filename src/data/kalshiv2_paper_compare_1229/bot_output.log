/home/ubuntu/moondev_follow/src/models/gemini_model.py:6: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
âœ¨ Initialized Claude model: claude-3-haiku
âœ… claude-3-haiku ready
âœ¨ Initialized qwen/qwen3-32b
âœ… qwen/qwen3-32b ready
âœ¨ Moon Dev's magic initialized OpenAI model: o1-mini ğŸŒŸ
âœ… o1-mini ready
âœ¨ Initialized Gemini model: gemini-2.5-flash
âœ… gemini-2.5-flash ready
âœ¨ Initialized DeepSeek model: deepseek-chat
âœ… deepseek-chat ready
âŒ Could not connect to Ollama API - is the server running?
ğŸ’¡ Start the server with: ollama serve

Value Trading Engine initialized (value mode)

Strategy Parameters:
  Min Edge: 10.0%
  Kelly Fraction: 20%
  Max Position: 10.0% of bankroll
  Min Consensus: 4/6 models
  Price Range: $0.08 - $0.85

ğŸ“ V2 Data Folder: /home/ubuntu/kalshiv2_live_1227
   Trades CSV: /home/ubuntu/kalshiv2_live_1227/trades.csv

Kalshi Trade Executor initialized (paper mode)

Portfolio Summary (paper):
  Balance: $5000.00
  Invested: $0.00
  Open Positions: 0
  Realized P&L: $0.00
  Win Rate: 0.0% (0W/0L)
  Today: 0 trades, $0.00 P&L

======================================================================
 KALSHI VALUE TRADING AGENT V2 (Web Re-Eval) 
======================================================================
  Mode: PAPER TRADING
  Bankroll: $5,000
  Time-Adjusted Edge Requirements:
    <60d: 8% min edge
    <180d: 15% min edge
    <365d: 25% min edge
  Min Consensus: 4/6 models
  Kelly Fraction: 50%
  Resolution Window: 0-365 days
  Long-Term Volume Filter: >60d needs 100+ vol
  Web Re-Evaluation: Enabled for underwater positions
======================================================================


Starting continuous trading loop...
Analysis interval: 1 hours
Press Ctrl+C to stop


######################################################################
  RUN #1
######################################################################

======================================================================
  Analysis Run - 2025-12-29 03:55:17
======================================================================


Fetching Kalshi markets...
Querying 54 market series...
  KXHIGHCHI: 12 markets
  KXJOBLESSCLAIMS: 10 markets
  KXCPICOMBO: 5 markets
  KXCPI: 6 markets
  KXGDP: 11 markets
  KXGDPUSMAX: 1 markets
  KXFED: 50 markets
  KXGTAPRICE: 5 markets
  KXQUANTUM: 4 markets
  KXOIL: Error - 429 Client Error: Too Many Requests for url: https://api.elections.kalshi.com/trade-api/v2/markets?series_ticker=KXOIL&status=open&limit=50
  KXGOLD: Error - 429 Client Error: Too Many Requests for url: https://api.elections.kalshi.com/trade-api/v2/markets?series_ticker=KXGOLD&status=open&limit=50
  KXMETEOR: Error - 429 Client Error: Too Many Requests for url: https://api.elections.kalshi.com/trade-api/v2/markets?series_ticker=KXMETEOR&status=open&limit=50
  KXWW3: Error - 429 Client Error: Too Many Requests for url: https://api.elections.kalshi.com/trade-api/v2/markets?series_ticker=KXWW3&status=open&limit=50
  KXNUCLEAR: Error - 429 Client Error: Too Many Requests for url: https://api.elections.kalshi.com/trade-api/v2/markets?series_ticker=KXNUCLEAR&status=open&limit=50
  NASDAQ100U: Error - 429 Client Error: Too Many Requests for url: https://api.elections.kalshi.com/trade-api/v2/markets?series_ticker=NASDAQ100U&status=open&limit=50
  KXINXW: Error - 429 Client Error: Too Many Requests for url: https://api.elections.kalshi.com/trade-api/v2/markets?series_ticker=KXINXW&status=open&limit=50
  KXINX: Error - 429 Client Error: Too Many Requests for url: https://api.elections.kalshi.com/trade-api/v2/markets?series_ticker=KXINX&status=open&limit=50
  KXDOW: Error - 429 Client Error: Too Many Requests for url: https://api.elections.kalshi.com/trade-api/v2/markets?series_ticker=KXDOW&status=open&limit=50
  KXVIX: Error - 429 Client Error: Too Many Requests for url: https://api.elections.kalshi.com/trade-api/v2/markets?series_ticker=KXVIX&status=open&limit=50
Fetching general markets...
Found 695 unique markets

Filtering Stats:
  Time-filtered: 649
  Volume-filtered: 0
  Sports-filtered: 2
  Imminent (sweet spot): 38
  New markets (<48h): 12

Selected 44 markets for analysis

Starting Per-Market Analysis (44 markets, 6 models)...
  Using early-exit strategy: skip market if first 2 models disagree
âœ¨ Initialized llama-3.3-70b-versatile
âœ¨ Initialized Gemini model: gemini-2.0-flash
âœ¨ Moon Dev's magic initialized OpenAI model: gpt-4o-mini ğŸŒŸ
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
  âœ… KXHIGHCHI-25DEC28-B57.5: NO (3/4 agree, 61.0% edge vs 8% req, ?)
    â­ï¸  Skipped: Insufficient consensus: 3/4
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
  âœ… KXCPICOMBO-25DEC-0129: YES (3/4 agree, 216.7% edge vs 8% req, 15d)
    â­ï¸  Skipped: Insufficient consensus: 3/4
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
  âœ… KXCPI-25DEC-T0.2: YES (4/4 agree, 26.9% edge vs 8% req, 15d)
    ğŸ“ˆ EXECUTING: KXCPI-25DEC-T0.2 - YES | $236.25 (525 contracts) | 26.9% edge

==================================================
TRADE SIGNAL: BUY YES
Ticker: KXCPI-25DEC-T0.2
Price: $0.45
Contracts: 525
Cost: $236.25
Edge: 13.0%
==================================================

PAPER TRADE EXECUTED
  Trade ID: 20251229_035642_861797
  Cost: $236.25
  New Balance: $4763.75
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
  âœ… KXCPICOMBO-25DEC-027: YES (3/4 agree, 43.3% edge vs 8% req, 15d)
    â­ï¸  Skipped: Insufficient consensus: 3/4
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
  âœ… KXCPI-25DEC-T0.3: YES (3/4 agree, 89.4% edge vs 8% req, 15d)
    â­ï¸  Skipped: Insufficient consensus: 3/4
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
  âœ… KXGDP-26JAN30-T1.5: YES (3/4 agree, 9.0% edge vs 8% req, 32d)
    â­ï¸  Skipped: Insufficient consensus: 3/4
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
  âœ… KXGDP-26JAN30-T2.5: YES (3/3 agree, 14.4% edge vs 8% req, 32d)
    â­ï¸  Skipped: Insufficient consensus: 3/4
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
  âœ… KXGDP-26JAN30-T1.25: YES (3/4 agree, 10.9% edge vs 8% req, 32d)
    â­ï¸  Skipped: Insufficient consensus: 3/4
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
  âœ… KXGDP-26JAN30-T1.75: YES (3/4 agree, 9.9% edge vs 8% req, 32d)
    â­ï¸  Skipped: Insufficient consensus: 3/4
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
  âœ… KXHIGHCHI-25DEC28-B63.5: NO (3/3 agree, 61.0% edge vs 8% req, ?)
    â­ï¸  Skipped: Insufficient consensus: 3/4
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
  âœ… KXCPICOMBO-25DEC-0231: YES (3/4 agree, 313.3% edge vs 8% req, 15d)
    â­ï¸  Skipped: Insufficient consensus: 3/4
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
  âœ… KXHIGHCHI-25DEC29-B28.5: NO (3/4 agree, 23.8% edge vs 8% req, 1d)
    â­ï¸  Skipped: Insufficient consensus: 3/4
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
  âœ… KXHIGHCHI-25DEC29-T31: NO (4/5 agree, 67.0% edge vs 8% req, 1d)
    â­ï¸  Skipped: Price too high: $0.99 > $0.85
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5
ğŸ¤” Moon Dev's gpt-4o-mini is thinking...
ğŸ§ª Moon Dev debug: finish_reason=stop
âœ¨ Initialized Claude model: claude-3-haiku-20240307
âœ¨ Initialized Claude model: claude-sonnet-4-5

ğŸ“Š Analysis Complete:
  Markets analyzed: 44
  Qualified trades: 13
  Executed trades: 1

ğŸ¯ Found 13 qualified trades, executed 1!

ğŸ“ Run log exported: run_20251229_035517.log

ğŸ“ˆ Final snapshot: 1 positions saved to price_history.csv

======================================================================
OPEN POSITIONS (1)
======================================================================

  ğŸ“ˆ KXCPI-25DEC-T0.2: YES @ $0.45 [TAKE_PROFIT]
    Contracts: 525 | Cost: $236.25
    Entry Edge: 13.0% | Consensus: 4/6
    Expected Edge: 12Â¢ | Achieved: 0Â¢ (0% captured)

No closed trades yet

Next run at 05:03:20
